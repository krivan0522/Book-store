{"ast":null,"code":"import _toConsumableArray from\"E:/HTML CSS/SFassign3/krish/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import{useContext}from'react';import{UserContext}from'./UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Books=function Books(props){var genrebook=props.genrebook;var category=props.category;var _useContext=useContext(UserContext),value=_useContext.value,setValue=_useContext.setValue;var handleCart=function handleCart(btitle,bprice,bid,bphoto){var exists=value.booktem.find(function(x){return x.id===bid;});if(exists){value.booktem.forEach(function(books){if(exists&&books.id===bid){books.numq=books.numq+1;books.totalp=books.totalp+bprice;setValue({\"noqty\":value.noqty+1,\"fp\":value.fp+bprice,\"booktem\":_toConsumableArray(value.booktem)});}});}else{var bobj={\"title\":btitle,\"price\":bprice,\"totalp\":bprice,\"id\":bid,\"photo\":bphoto,\"numq\":1};setValue({\"noqty\":value.noqty+1,\"fp\":value.fp+bprice,\"booktem\":[].concat(_toConsumableArray(value.booktem),[bobj])});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"books\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"bookcat\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" \".concat(category)}),\" \",\" Books\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"DisplayBooks\",children:genrebook.map(function(genbook){return/*#__PURE__*/_jsx(\"div\",{className:\"booksDisplay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"individualBooks\",children:[/*#__PURE__*/_jsx(\"img\",{src:genbook.image_url,alt:\"book\"}),/*#__PURE__*/_jsx(\"h2\",{children:genbook.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"authorname\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"By \"}),genbook.authors]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Price: \"}),\"Rs.\".concat(genbook.num_pages)]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){handleCart(genbook.title,genbook.num_pages,genbook.id,genbook.image_url);},children:/*#__PURE__*/_jsx(\"div\",{className:\"Button\",children:\"+ Add to cart\"})})]})},genbook.id);})})]})});};export default Books;","map":{"version":3,"names":["useContext","UserContext","Books","props","genrebook","category","value","setValue","handleCart","btitle","bprice","bid","bphoto","exists","booktem","find","x","id","forEach","books","numq","totalp","noqty","fp","bobj","map","genbook","image_url","title","authors","num_pages"],"sources":["E:/HTML CSS/SFassign3/krish/src/Books.js"],"sourcesContent":["import { useContext } from 'react';\r\nimport { UserContext } from './UserContext';\r\n\r\nconst Books = (props) => {\r\n    const genrebook = props.genrebook;\r\n    const category = props.category;\r\n\r\n    const {value, setValue} = useContext(UserContext);\r\n\r\n    const handleCart = (btitle,bprice,bid,bphoto) =>{\r\n        \r\n        const exists = value.booktem.find(x => x.id===bid);\r\n        if(exists){\r\n            value.booktem.forEach(books => {\r\n                if(exists && books.id === bid){\r\n                    books.numq = books.numq + 1;\r\n                    books.totalp = books.totalp + bprice;\r\n                    setValue({\"noqty\":value.noqty+1 , \"fp\":value.fp+bprice, \"booktem\":[...value.booktem]});\r\n                }\r\n                \r\n            });\r\n        }\r\n        else{\r\n            const bobj = {\"title\":btitle, \"price\":bprice, \"totalp\":bprice, \"id\":bid, \"photo\":bphoto, \"numq\":1};\r\n            setValue({\"noqty\":value.noqty+1 , \"fp\":value.fp+bprice, \"booktem\":[...value.booktem, bobj]});\r\n        }\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        <div className=\"books\">\r\n            <h2 className='bookcat'><span>{` ${category}`}</span>{` `} Books</h2>\r\n            <div className=\"DisplayBooks\">\r\n            {genrebook.map(genbook => (\r\n                <div className=\"booksDisplay\" key={genbook.id}>\r\n                    <div className=\"individualBooks\">\r\n                        <img src={genbook.image_url} alt=\"book\" />\r\n                        <h2>{genbook.title}</h2>\r\n                        <div className='authorname'><span>By </span>{genbook.authors}</div>\r\n                        <div><span>Price: </span>{`Rs.${genbook.num_pages}`}</div>\r\n                        <button onClick={() => {handleCart(genbook.title,genbook.num_pages,genbook.id,genbook.image_url)}}><div className='Button'>+ Add to cart</div></button>\r\n                    </div>\r\n                </div>\r\n            ))}\r\n            </div>\r\n        </div>\r\n        </>\r\n    );\r\n}\r\n \r\nexport default Books;"],"mappings":"yHAAA,OAASA,UAAT,KAA2B,OAA3B,CACA,OAASC,WAAT,KAA4B,eAA5B,C,6IAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,CAACC,KAAD,CAAW,CACrB,GAAMC,UAAS,CAAGD,KAAK,CAACC,SAAxB,CACA,GAAMC,SAAQ,CAAGF,KAAK,CAACE,QAAvB,CAEA,gBAA0BL,UAAU,CAACC,WAAD,CAApC,CAAOK,KAAP,aAAOA,KAAP,CAAcC,QAAd,aAAcA,QAAd,CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,MAAD,CAAQC,MAAR,CAAeC,GAAf,CAAmBC,MAAnB,CAA6B,CAE5C,GAAMC,OAAM,CAAGP,KAAK,CAACQ,OAAN,CAAcC,IAAd,CAAmB,SAAAC,CAAC,QAAIA,EAAC,CAACC,EAAF,GAAON,GAAX,EAApB,CAAf,CACA,GAAGE,MAAH,CAAU,CACNP,KAAK,CAACQ,OAAN,CAAcI,OAAd,CAAsB,SAAAC,KAAK,CAAI,CAC3B,GAAGN,MAAM,EAAIM,KAAK,CAACF,EAAN,GAAaN,GAA1B,CAA8B,CAC1BQ,KAAK,CAACC,IAAN,CAAaD,KAAK,CAACC,IAAN,CAAa,CAA1B,CACAD,KAAK,CAACE,MAAN,CAAeF,KAAK,CAACE,MAAN,CAAeX,MAA9B,CACAH,QAAQ,CAAC,CAAC,QAAQD,KAAK,CAACgB,KAAN,CAAY,CAArB,CAAyB,KAAKhB,KAAK,CAACiB,EAAN,CAASb,MAAvC,CAA+C,6BAAcJ,KAAK,CAACQ,OAApB,CAA/C,CAAD,CAAR,CACH,CAEJ,CAPD,EAQH,CATD,IAUI,CACA,GAAMU,KAAI,CAAG,CAAC,QAAQf,MAAT,CAAiB,QAAQC,MAAzB,CAAiC,SAASA,MAA1C,CAAkD,KAAKC,GAAvD,CAA4D,QAAQC,MAApE,CAA4E,OAAO,CAAnF,CAAb,CACAL,QAAQ,CAAC,CAAC,QAAQD,KAAK,CAACgB,KAAN,CAAY,CAArB,CAAyB,KAAKhB,KAAK,CAACiB,EAAN,CAASb,MAAvC,CAA+C,uCAAcJ,KAAK,CAACQ,OAApB,GAA6BU,IAA7B,EAA/C,CAAD,CAAR,CACH,CACJ,CAjBD,CAmBA,mBACI,sCACA,aAAK,SAAS,CAAC,OAAf,wBACI,YAAI,SAAS,CAAC,SAAd,wBAAwB,iCAAWnB,QAAX,GAAxB,gBADJ,cAEI,YAAK,SAAS,CAAC,cAAf,UACCD,SAAS,CAACqB,GAAV,CAAc,SAAAC,OAAO,qBAClB,YAAK,SAAS,CAAC,cAAf,uBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,YAAK,GAAG,CAAEA,OAAO,CAACC,SAAlB,CAA6B,GAAG,CAAC,MAAjC,EADJ,cAEI,oBAAKD,OAAO,CAACE,KAAb,EAFJ,cAGI,aAAK,SAAS,CAAC,YAAf,wBAA4B,6BAA5B,CAA6CF,OAAO,CAACG,OAArD,GAHJ,cAII,oCAAK,iCAAL,cAAgCH,OAAO,CAACI,SAAxC,IAJJ,cAKI,eAAQ,OAAO,CAAE,kBAAM,CAACtB,UAAU,CAACkB,OAAO,CAACE,KAAT,CAAeF,OAAO,CAACI,SAAvB,CAAiCJ,OAAO,CAACT,EAAzC,CAA4CS,OAAO,CAACC,SAApD,CAAV,CAAyE,CAAjG,uBAAmG,YAAK,SAAS,CAAC,QAAf,2BAAnG,EALJ,GADJ,EAAmCD,OAAO,CAACT,EAA3C,CADkB,EAArB,CADD,EAFJ,GADA,EADJ,CAoBH,CA7CD,CA+CA,cAAef,MAAf"},"metadata":{},"sourceType":"module"}